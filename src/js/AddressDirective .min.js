angular.module("donny5300.pro6pp",[]).provider("Pro6ppConfig",function(){this.setApiKey=function(e){this.apiKey=e},this.setTemplate=function(e){this.template=e},this.enableDebug=function(e){var t=0!=e;console.log(t),this.debug=t},this.$get=function(){return this}}).directive("address",function(e,t){return{restrict:"EA",scope:{zipcode:"=",address:"=",housenumber:"=",city:"=",fullAddress:"="},controller:function(e,t,n){t.apiKey||n.error("No Pro6PP api key filled in!")},require:"^form",templateUrl:t.template,link:function(n){var r=t;n.generateURL=function(e,t){return"https://api.pro6pp.nl/v1/autocomplete?auth_key="+r.apiKey+"&nl_sixpp="+e+"&streetnumber="+t},r.apiKey&&n.$watch("[zipcode, housenumber]",function(){var t=n.zipcode,i=n.housenumber;if("undefined"!=typeof t&&"undefined"!=typeof i&&6==t.length&&i.length>0){n.requestStarted=!0,n.validationStatus=!1;var o=n.generateURL(t,i);e.get(o).success(function(e){r.debug&&("ok"==e.status?console.log(e):console.warn(e)),delete n.validationMessage,n.requestStarted=!1,n.validationStatus=e.status,"error"==e.status?n.validationMessage=e.error.message:n.fullAddress=e.results[0]})}})}}});